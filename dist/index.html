<style scoped>
.status-message {
  border: 1px solid #c00;
  background: #fac7c7;
  padding: 10px; }

.outerwrapper {
  width: 100%;
  min-height: 900px;
  position: relative;
  border: 1px solid #c8c7cf; }
  .outerwrapper h2, .outerwrapper h3, .outerwrapper p {
    padding: 10px 10px 0 10px;
    margin: 0; }

</style>
<div class="outerwrapper">
	<div class="chart"></div>
</div>
<!--[if gt IE 8]><!-->
<script type="text/javascript">
function extendObject (myObject) {
	/*	Referenced from: http://addyosmani.com/resources/essentialjsdesignpatterns/book/#observerpatternjavascript */
	
	/*	Storage for topics that can be broadcast or listened to */
	var topics = {};

	/*	A topic identifyer */
	var subUid = -1;

	/*	Publish or broadcast events of interest
		with a specific topic name and arguments
		such as the data to pass along */
	myObject.publish = function ( topic, args ) {
		
		if ( !topics[topic] ) {
			return false;
		}

		var subscribers = topics[topic];
		var len = subscribers ? subscribers.length : 0;

		while (len--) {
			subscribers[len].func( topic, args );
		}	

		return this;
	};

	/*	Subscribe to events of interest with a specific topic name and a 
		callback function, to be executed with the topic/event is observed */
	myObject.subscribe = function ( topic, func, parent ) {
		
		if ( !topics[topic] ) {
			topics[topic] = [];
		}

		var token = ( ++subUid ).toString();
		topics[topic].push({
			token: token,
			func: func,
			parent: parent
		});
		return token;
	};

}
function buildParams () {
	var params = {};

	var height = 400;

	/*	Reduce height of main graphic for smaller screens */
	if (jQuery('.section').width() < 480 ) {
		height = 300;
	}

	params.colour =  ["#c1272d",   /* 1 */
							"#2a6755", /* 2 */
							"#fbb03b", /* 3 */
							"#d9e021", /* 3 */
							"#39b54a", /* 4 */
							"#00a99d", /* 5 */
							"#0071bc", /* 6 */
							"#1b1464", /* 7 */
							"#93278f", /* 8 */
							"#8c6239"  /* 9 */
						];

	/*	Margin, Width and height */
	params.margin = {top: 15, right: 30, bottom: 40, left: 80};
	params.lifeCycleMargin = {top: 10, right: 10, bottom: 20, left: 70};
	params.width = jQuery('.section').width()  - params.margin.left - params.margin.right;
	params.height = height - params.margin.top - params.margin.bottom;
	/*	Global variable to control the length of D3 transitons */
	params.duration = 450;
	params.delay = 450;

	return params;

}

BuildWidget.prototype.buttonClick = function() {
	var self = this;

};

BuildWidget.prototype.upDateButtons = function () {
	var self = this;
};
function BuildWidget (target, params, data) {
	this.target = target;
	this.params = params;
	this.data = data;
}


BuildWidget.prototype.buildScales = function () {

};

BuildWidget.prototype.buildGraphic = function () {
	this.svg = d3.select(this.target  + " > .chart").append("svg")
		.attr("width", this.params.width + this.params.margin.left + this.params.margin.right)
		.attr("height", this.params.height + this.params.margin.top + this.params.margin.mid + this.params.miniHeight + this.params.margin.bottom);

};

BuildWidget.prototype.buildAxes = function () {

};

BuildWidget.prototype.buildBrush = function () {
	var self = this;

	var display = function () {

	};

	var brushend = function () {

	};

	var brush = d3.svg.brush()
					.x(this.xScaleBrush)
					.extent([0, this.params.width])
					.on("brush", display)
					.on("brushend", brushend);

};

(function() {
		var init = function($)
		{

		/*	==================================================================================== */
		/*	GLOBAL VARIABLES FOR D3 */

		/*  Colours for the bars */
		var allBars = ["#1abc9c","#27ae60","#3498db","#5959b7","#EB6B4B"];

		/*	Margin, Width and height */
		var margin = {top: 15, right: 20, bottom: 20, left: 90};
		var width = $('.outerwrapper').width()  - margin.left - margin.right;
		var height = 350 - margin.top - margin.bottom;
		/*	Global variable to control the length of D3 transitons */
		var duration = 450;

		/*	==================================================================================== */
		/*	jQuery ready */

			/*	==================================================================================== */
			/*	Load D3 */
			$.getScript("http://www.nature.com/polopoly_static/js/d3.v3.min.js", function() {


			}); /* End of d3js getscript call

		/* End of active code */
		};


	setTimeout(function()
	{
	if (typeof jQuery !== 'undefined')
	{
		init(jQuery);
	} else
	{
		setTimeout(arguments.callee, 60);
	}
	}, 60);

})();
</script>
<!--<![endif]-->